{"version":3,"sources":["Console/Loader.js","Console/Graph.js","Console/Stats.js","Console/Map.js","Console/Select.js","constants/visionZero.js","Console/VisionZero.js","Console/Report.js","App.js","serviceWorker.js","index.js"],"names":["Loader","react_default","a","createElement","className","Graph","props","highcharts_react_min_default","highcharts","Highcharts","options","getFromStatsByYear","stats","year","severity","yearRecord","_","find","accident_year","involved_injury_severity","toString","isUndefined","parseInt","injured_count","severityStatsByYear","name","data","getLineOptions","series","chart","height","type","credits","enabled","title","text","tooltip","xAxis","categories","yAxis","max","Math","map","flattenDeep","plotOptions","enableMouseTracking","states","hover","getColumnOptions","getPieOptions","colorByPoint","y","dataLabels","connectorWidth","connectorPadding","formatter","concat","this","point","distance","style","fontSize","fontWeight","pie","borderWidth","borderColor","showInLegend","Stats","lineOptions","school","columnOptions","pieOptions","Console_Graph","Map","url","lat","latitude","long","longitude","getLink","src","useStyles","makeStyles","theme","root","flexGrow","container","position","suggestionsContainerOpen","zIndex","marginTop","spacing","left","right","suggestion","display","suggestionsList","margin","padding","listStyleType","divider","getSuggestionValue","label","renderSuggestion","_ref","query","isHighlighted","matches","match","parts","parse","MenuItem","selected","component","part","key","highlight","Select","_React$useState","React","useState","_React$useState2","Object","slicedToArray","stateSuggestions","setSuggestions","_React$useState3","_React$useState4","inputValue","setInputValue","suggestions","schools","yishuvName","yishuv_name","startsWith","substr","length","endsWith","size","school_name","id","school_id","classes","autosuggestProps","renderInputComponent","inputProps","_inputProps$inputRef","inputRef","ref","other","objectWithoutProperties","TextField","assign","fullWidth","InputProps","node","input","onSuggestionsFetchRequested","_ref2","value","deburr","trim","toLowerCase","inputLength","count","filter","keep","includes","uniqBy","getSuggestions","onSuggestionsClearRequested","onSuggestionSelected","event","_ref4","setSelectedId","dist_default","placeholder","onChange","_ref3","newValue","direction","renderSuggestionsContainer","Paper","containerProps","square","children","VISION_ZERO_CONTENT","header","body","image","alt","TabPanel","index","Typography","role","hidden","aria-labelledby","width","Box","p","MyTabs","styled","Tabs","borderRight","VisionZero","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","currentTab","content","Tab","aria-controls","float","paddingLeft","val","setState","flex","orientation","variant","handleChange","bind","aria-label","createTabHeaders","createTabContent","Component","Report","selectedId","selectedSchoolData","setSelectedSchoolData","selectedSchool","selectedSchoolName","get","axios","then","response","Console_Select","selectedSchoolValue","Console_Stats","isNil","Console_Loader","Console_Map","Console_VisionZero","App","callback","_useState","_useState2","schoolsMetaData","setSchoolsMetaData","useEffect","isNull","Console_Report","Boolean","window","location","hostname","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e2e5455a.chunk.js","sourcesContent":["import React from 'react';\nimport './Loader.scss'\n\nfunction Loader() {\n    return (\n        <div className=\"spinner\" />\n    );\n}\n\nexport default Loader;\n","import React from 'react';\n\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\n\n\nfunction Graph(props) {\n    return (\n        <div className=\"graph\">\n            <div className=\"graph-chart\">\n                <HighchartsReact highcharts={Highcharts} options={props.options} />\n            </div>\n        </div>\n    );\n}\n\nexport default Graph;\n","import React from 'react';\nimport _ from 'lodash';\n\nimport './Stats.scss';\n\nimport Graph from './Graph';\n\n\nconst getFromStatsByYear = (stats, year, severity) => {\n    let yearRecord = _.find(stats, {accident_year: year, involved_injury_severity: severity.toString()});\n    if (_.isUndefined(yearRecord)) {\n        return 0;\n    }\n    return parseInt(yearRecord.injured_count);\n};\n\nlet severityStatsByYear = function (stats, severity, name) {\n    return {\n        name,\n        data: [\n            getFromStatsByYear(stats, '2013', severity),\n            getFromStatsByYear(stats, '2014', severity),\n            getFromStatsByYear(stats, '2015', severity),\n            getFromStatsByYear(stats, '2016', severity),\n            getFromStatsByYear(stats, '2017', severity),\n            getFromStatsByYear(stats, '2018', severity)\n        ]\n    };\n};\n\nconst getLineOptions = (stats) => {\n\n    let series = [\n        severityStatsByYear(stats, 1, 'פצועים קל'),\n        severityStatsByYear(stats, 2, 'פצועים קשה'),\n        severityStatsByYear(stats, 3, 'הרוגים')\n    ];\n\n    return {\n        chart: {\n            height: 250,\n            type: 'line'\n        },\n        credits: {\n            enabled: false\n        },\n        title: {\n            text: ''\n        },\n        tooltip: { enabled: false },\n        series,\n        xAxis: {\n            categories: ['2013', '2014', '2015', '2016', '2017', '2018'],\n        },\n        yAxis: {\n            title: '',\n            max: Math.max(_(series).map('data').flattenDeep().max(), 10)\n        },\n        plotOptions: {\n            series: {\n                enableMouseTracking: false,\n                states: {\n                    hover: {\n                        enabled: false\n                    }\n                }\n            }\n        },\n    };\n};\n\nconst getColumnOptions = (stats) => {\n\n    let series = [{\n        name: 'פצועים קל',\n        data: [1, 2, 3, 4, 1, 1, 6, 4, 1, 0, 0, 2]\n\n    }, {\n        name: 'פצועים קשה',\n        data: [2, 2, 1, 1, 1, 1, 6, 4, 1, 3, 3, 2]\n\n    }, {\n        name: 'הרוגים',\n        data: [1, 2, 3, 4, 3, 1, 1, 2, 5, 2, 0, 2]\n\n    }];\n\n    return {\n        chart: {\n            height: 250,\n            type: 'column'\n        },\n        credits: {\n            enabled: false\n        },\n        title: {\n            text: ''\n        },\n        tooltip: { enabled: false },\n        series,\n        xAxis: {\n            categories: ['ינואר', 'פברואר', 'מרץ', 'אפריל', 'מאי', 'יוני', 'יולי', 'אוגוסט', 'ספטמבר', 'אוקטובר', 'נובמבר', 'דצמבר'],\n        },\n        yAxis: {\n            title: '',\n            max: Math.max(_(series).map('data').flattenDeep().max(), 10)\n        },\n        plotOptions: {\n            series: {\n                enableMouseTracking: false,\n                states: {\n                    hover: {\n                        enabled: false\n                    }\n                }\n            }\n        },\n    };\n};\n\nconst getPieOptions = (stats) => {\n\n    let series = [{\n        colorByPoint: true,\n        data: [{\n            name: 'גברים',\n            y: 61.41,\n        }, {\n            name: 'נשים',\n            y: 11.84\n        }],\n        dataLabels: {\n            connectorWidth: 0,\n            connectorPadding: -10,\n            formatter: function () {\n                return `${this.point.y}%`;\n            },\n            distance: 15,\n            style: {\n                fontSize: '12px',\n                fontWeight: 'normal'\n            },\n        }\n    }];\n\n    return {\n        chart: {\n            height: 250,\n            type: 'pie'\n        },\n        credits: {\n            enabled: false\n        },\n        title: {\n            text: ''\n        },\n        tooltip: { enabled: false },\n        series,\n        plotOptions: {\n            series: {\n                enableMouseTracking: false,\n                states: {\n                    hover: {\n                        enabled: false\n                    }\n                }\n            },\n            pie: {\n                borderWidth: 0,\n                borderColor: null,\n                showInLegend: true\n            }\n        },\n    };\n};\n\n\nfunction Stats(props) {\n    let lineOptions = getLineOptions(props.school);\n    let columnOptions = getColumnOptions(props.school);\n    let pieOptions = getPieOptions(props.school);\n    return (\n        <div className=\"stats\">\n            <div className=\"title\">{props.title}</div>\n            <div className=\"sub-title\">נפגעים לפי שנה</div>\n            <Graph options={lineOptions}/>\n            <div className=\"sub-title\">נפגעים לפי חודש</div>\n            <Graph options={columnOptions}/>\n            <div className=\"sub-title\">נפגעים לפי מין</div>\n            <Graph options={pieOptions}/>\n        </div>\n    );\n}\n\nexport default Stats;\n","import React from 'react';\n\nimport './Map.scss';\n\nfunction getLink(school) {\n    let lat = school.latitude;\n    let long = school.longitude;\n    return `https://www.anyway.co.il/?zoom=17&lat=${lat}&lon=${long}&start_date=2014-01-01&end_date=2019-12-31&show_fatal=1&show_severe=1&show_light=1&approx=&accurate=1&show_markers=1&show_discussions=0&show_urban=3&show_intersection=3&show_lane=3&show_day=7&show_holiday=0&show_time=24&start_time=25&end_time=25&weather=0&road=0&separation=0&surface=0&acctype=1&controlmeasure=0&district=0&case_type=0&show_rsa=0&age_groups=1,2,3,4&map_only=true`;\n}\n\n\n\nfunction Map(props) {\n    let url = getLink(props.school);\n    return (\n        <div className=\"map\">\n            <div className=\"title\">{''}</div>\n            <iframe src={url} title={\"the map\"}/>\n        </div>\n    );\n}\n\nexport default Map;\n","import React from 'react';\nimport _ from 'lodash';\nimport deburr from 'lodash/deburr';\n\nimport match from 'autosuggest-highlight/match';\nimport Autosuggest from 'react-autosuggest';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport parse from 'autosuggest-highlight/parse';\nimport Paper from '@material-ui/core/Paper';\nimport MenuItem from '@material-ui/core/MenuItem';\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        height: 250,\n        flexGrow: 1,\n    },\n    container: {\n        position: 'relative',\n    },\n    suggestionsContainerOpen: {\n        position: 'absolute',\n        zIndex: 1,\n        marginTop: theme.spacing(1),\n        left: 0,\n        right: 0,\n    },\n    suggestion: {\n        display: 'block',\n    },\n    suggestionsList: {\n        margin: 0,\n        padding: 0,\n        listStyleType: 'none',\n    },\n    divider: {\n        height: theme.spacing(2),\n    },\n}));\n\nfunction getSuggestionValue(suggestion) {\n    return suggestion.label;\n}\n\nfunction renderSuggestion(suggestion, { query, isHighlighted }) {\n    const matches = match(suggestion.label, query);\n    const parts = parse(suggestion.label, matches);\n\n    return (\n        <MenuItem selected={isHighlighted} component=\"div\">\n            <div>\n                {parts.map(part => (\n                    <span key={part.text} style={{ fontWeight: part.highlight ? 500 : 400 }}>\n            {part.text}\n          </span>\n                ))}\n            </div>\n        </MenuItem>\n    );\n}\n\nfunction Select(props) {\n    const [stateSuggestions, setSuggestions] = React.useState([]);\n    const [inputValue, setInputValue] = React.useState('');\n\n    let suggestions = _.map(props.schools, (school) => {\n        let yishuvName = school.yishuv_name.startsWith('\"')\n            ? school.yishuv_name.substr(1, school.yishuv_name.length)\n            : school.yishuv_name;\n        yishuvName = school.yishuv_name.endsWith('\"')\n            ? yishuvName.substr(0, yishuvName-1)\n            : yishuvName;\n        return {\n            label: _.size(yishuvName)\n                ? `${school.school_name} (${yishuvName})`\n                : school.school_name,\n            id: school.school_id\n        };\n    });\n    const classes = useStyles();\n\n    function renderInputComponent(inputProps) {\n        const { classes, inputRef = () => {}, ref, ...other } = inputProps;\n\n        return (\n            <TextField\n                fullWidth\n                InputProps={{\n                    inputRef: node => {\n                        ref(node);\n                        inputRef(node);\n                    },\n                    classes: {\n                        input: classes.input,\n                    },\n                }}\n                {...other}\n            />\n        );\n    }\n\n    function getSuggestions(value) {\n        const inputValue = deburr(value.trim()).toLowerCase();\n        const inputLength = inputValue.length;\n        let count = 0;\n\n        return inputLength === 0\n            ? []\n            : _(suggestions).filter(suggestion => {\n                const keep = count < 15 && suggestion.label.includes(inputValue);\n\n                if (keep) {\n                    count += 1;\n                }\n\n                return keep;\n            })\n                .uniqBy('id')\n                .value();\n    }\n\n    const handleSuggestionsFetchRequested = ({ value }) => {\n        setSuggestions(getSuggestions(value));\n    };\n\n    const handleSuggestionsClearRequested = () => {\n        setSuggestions([]);\n    };\n\n    const handleChange = (event, { newValue }) => {\n        setInputValue(newValue);\n    };\n\n    const onSuggestionSelected = (event, {suggestion}) => {\n        props.setSelectedId(suggestion.id);\n    };\n\n    const autosuggestProps = {\n        renderInputComponent,\n        suggestions: stateSuggestions,\n        onSuggestionsFetchRequested: handleSuggestionsFetchRequested,\n        onSuggestionsClearRequested: handleSuggestionsClearRequested,\n        onSuggestionSelected,\n        getSuggestionValue,\n        renderSuggestion,\n    };\n\n    return (\n        <Autosuggest\n            {...autosuggestProps}\n            inputProps={{\n                classes,\n                id: 'react-autosuggest-simple',\n                placeholder: 'הקלד כאן מוסד לימודים הקרוב לביתך...',\n                value: inputValue,\n                onChange: handleChange,\n                direction: 'rtl'\n            }}\n            theme={{\n                container: classes.container,\n                suggestionsContainerOpen: classes.suggestionsContainerOpen,\n                suggestionsList: classes.suggestionsList,\n                suggestion: classes.suggestion,\n            }}\n            renderSuggestionsContainer={options => (\n                <Paper {...options.containerProps} square>\n                    {options.children}\n                </Paper>\n            )}\n        />\n    );\n}\n\nexport default Select;\n\n\n","export const VISION_SUMMARY = {\n    header: \"חזון אפס הרוגים בתאונות דרכים (Vision zero)\",\n    body:  `זהו חזון להקטנה משמעותית של מספר ההרוגים והפצועים הקשים בתאונות הדרכים. חזון אפס מבוסס על העיקרון של בטיחות מערכתית (Systematic Safety) - תכנון ערים, עיצוב רחובות וכבישים כדי למנוע הזדמנויות להתרחשות של תאונות דרכים קשות וקטלניות. בניגוד לגישה המסורתית למניעת תאונות, בטיחות מערכתית לא מנסה לגרום לכך שאנשים ינהגו או ילכו בצורה מושלמת (על ידי הסברה או חקיקה), אלא מכיר בכך שאנשים הם יצורים לא מושלמים שתמיד יעשו טעויות. המיקוד הוא בתכנון מערכתי שמונע את ההזדמנות לבצע טעות מסוכנת, או במקרה שטעות כזו נעשתה, שתאונה לא תתפתח לאירוע קטלני. לפי גישה זו האחריות על מניעת תאונה קטלנית היא קודם כל על המתכנן הציבורי, לפני שהיא אחריות של משתמשי הדרך. לפי חזון אפס, מערכת שבנויה על סמך ההנחה שאף אדם לא יטעה לעולם, אינה מערכת בטוחה. מבחינה ערכית, חזון אפס מניח כי ניידות היא זכות אדם בסיסית. אסור שאנשים ימותו בדרך לעבודה ללימודים לקניות או לחברים - ומתכנן את המערכת בהתאם להנחה זו. כמו כן חזון אפס מתאים לגישה מתפתחת של מניעת פשיעה שמנסה להקטין פשיעה או את השלכותיה עוד לפני שזו התרחשה, ופחות על ידי שימוש במערכת המשפט הפלילי וכוחות משטרה.\n    חזון אפס קיים מאז 1997 בהולנד ושוודיה ובשנים האחרונות הוא מאומץ על ידי מדינות וערים נוספות, לרבות על ידי ארגון ה-OECD, קנדה, בריטניה, אוסטרליה, ומספר ערים גדולות בארצות הברית.`,\n    image: \"visionZero.png\",\n    alt: ''\n}\nexport const SAFE_ROAD_SCALING = {\n    header: \"יצירת כביש בטוח - מיתון תנועה\",\n    body: `המטרה של מיתון תנועה היא לשפר את הבטיחות והנוחות של הולכי רגל ורוכבי אופניים (תחבורה רכה) על ידי האטה מכוונת של מכוניות בכבישים מקומיים בעיר (30-40 קמ\"ש) . מהירות גבוהה מידי ברחובות העיר היא מצב של Lose-Lose: מצד אחד הדבר מרתיע שימוש בהליכה, אופניים, ותחבורה ציבורית- כלומר מגביר פקקים ובעיות חניה. מצד שני בעיר צפופה עיקר לא משנה אם נהג נוסע 60 קמ\"ש לאורך 200 מטר של קטע רחוב אם בסוף הקטע אותו נהג תקוע בפקק או ברמזור בגלל עודף שימוש במכוניות. מיתון תנועה מכוון לתנועה מתונה וזורמת יותר במקום תנועה עם פרצי מהירות ועצירות, שחייבת לעמוד ברמזורים. מתכננים עירוניים משתמשים באמצעים שונים של מיתון תנועה כמו תמרורים, עיצוב הדרך בצורה מעוקלת, הצרת הדרך, \"אוזניים\", במפרים, כריות, כיכרות, ריצוף הולנדי, מעברי חצייה מוגבהים ועוד. בשנים האחרונות ערים רבות (לדוגמה פריס, לונדון ועוד) מקדמות גישה של אזור מיתון תנועה - \"בלוק\" בן כמה רחובות, שבהם יש מיתון תנועה עם \"כניסות\" ויציאות\". ההשפעה על נהגים היא קטנה בגלל שמדובר ב-200 המטרים האחרונים של הנסיעה. ההשפעה על בטיחות ילדים והולכי רגל בכלל היא עצומה.`,\n    image: \"safeRoad1.png\",\n    alt: ''\n}\nexport const SAFE_CROSSING_ISLAND = {\n    header:\"יצירת מעבר חצייה בטוח - אי תנועה מרכזי או אי הצלה\",\n    body: \"אי תנועה מרכזי משפר את הנראות של הולך הרגל ושל מעבר החציה כולו, והוא וגם גורם לנהג להאט מעט לפני מעבר החצייה. אי תנועה משפר את הבטיחות והנוחות של חציית כביש דו סטרי בעיקר, אך גם חד סטרי, שכן הרבה יותר נוח, ולכן גם יותר בטוח, להתמקד במכוניות שמגיעות רק מכיוון אחד. בנוסף הדבר מקל על הולך הרגל לבחון את מצב התנועה ללא לחץ. ללא אי כזה הולך הרגל עלול להרגיש לא נעים כלפי הנהגים המחכים, ולכן לחצות בחפזון לתוך הנתיב הנגדי. התוצאה עלולה להיות קטלנית. יתרון נוסף הוא מניעת עקיפה לא חוקית של מכוניות במעבר חציה דבר שעלול לגרום לפגיעה בהולך הרגל על המעבר.\",\n    alt: ''\n}\nexport const SAFE_CROSSING_SIDEWALK = {\n    header: \"יצירת מעבר חצייה בטוח - הבלטת המדרכות ליד מעבר חציה\",\n    body: \"ברחובות רבים הולך הרגל נדרש לחצות לא רק נתיבי נסיעה אלא גם נתיבי חניה. לדוגמה ברחוב חד סטרי מקובל, הולך הרגל חוצה נתיב נסיעה אחד ושני נתיבי חניה. לפי החוק למכוניות אסור לחנות על מעברי חציה, אבל עקב מחסור בחניה נהגים לא תמיד נשמעים לחוק. לעיתים עיריות מאפשרות למכוניות לחנות קרוב מידי למעברי החצייה וזה מסתיר את הולך הרגל, בעיקר ילדים. הבלטת המדרכות פירושה שהולך הרגל צריך לחצות רק נתיב אחד במקום שלושה, הרחבת המדרכה מונעת חניה לא חוקית של מכוניות על מעבר החצייה. בנוסף המדרכה הבולטת משפרת את הראות ואת הנראות של הולכי הרגל ומונעת הסתרה על ידי מכוניות- במיוחד של ילדים. עבור הנהג, המדרכות הבולטות יכולות להוות הצרה של הדרך דבר שמאלץ אותו להאט לפני מעבר החצייה. בנוסף המדרכות הרחבות יותר פירושן הרגשה נעימה יותר להולך הרגל.\",\n    image: \"sidewalk.jpg\",\n    alt: ''\n}\n\nexport const SAFE_CROSSING_NARROW = {\n    header: \"יצירת מעבר חצייה בטוח - הצרת מעבר חצייה\",\n    body: `אפשר להצר את הכביש בסמוך למעבר החצייה. דבר זה מקצר את זמן החצייה של הולך הרגל, ובנוסף גורם לנהג להאט לפני המעבר. מהירות של 40 קמ\"ש או פחות משפרת בצורה משמעותית את הסיכוי שנהג ייתן זכות קדימה להולכי הרגל, ובמהירות נמוכה יותר לנהג יש גם יותר זמן להבחין בהולך הרגל ולפעול. הצרת מעבר החצייה יכולה להתבצע על ידי הבלטת המדרכות או על ידי אמצעים אחרים - לדוגמה קונוסים, עציצים, ועוד. חלק מאמצעים אלה משמשים כצד של \"עירוניות טקטית\" כדי לבחון את שינוי הרחוב בצורה זולה ומהירה.`,\n    image: \"sidewalk2.jpg\",\n    alt: ''\n}\n\nexport const SAFE_CROSSING_HEIGHTEN = {\n    header: \"יצירת מעבר חצייה בטוח - מעבר חצייה מוגבה\",\n    body: `\n    מעבר החצייה הוא בגובה המדרכה והמכונית צריכות להאט ולעלות על המעבר ואז לרדת ממנו. הדבר מקל על חצייה של הולכי רגל, שמתקשים ללכת מהר - במיוחד הורים עם עגלות ילדים, הורים שמלווים פעוטות, נכים, וזקנים. הגבהת המעבר גם גורמת לשינוי תפיסתי לפיו המכונית היא \"אורחת\" במערכת המדרכות של הולכי הרגל, במקום שהולך הרגל הוא אורח במערכת הכבישים. יתרון נוסף הוא שהגבהת המעבר משפרת את הנראות של הולכי הרגל ומעודדת את הנהג להאט ולתת להולכי הרגל זכות קדימה. \n    דוגמא לצעדים לשיפור הבטיחות של מעבר חציה - אי תנועה מרכזי (1), הגבהת המעבר (2), מדרכה בולטת (3), מהירות מטרה של לכל היותר 40 קמ\"ש בקרבת המעבר (4) סימון קו עצירה (5)\n    אמצעים לשיפור הבטיחות בחושך - תמרורים מהבהבים מעל ובצידי מעבר החצייה, מחזירי אור על הכביש.  \n    `,\n    image: \"sidewalk3.png\",\n    alt: ''\n}\n\nexport const SAFE_CROSSING_STOPLINE = {\n    header: \"יצירת מעבר חצייה בטוח - סימון קו עצירה לפני מעבר החצייה\",\n    body: `אחת ההמלצות של ארגון קציני הבטיחות בארצות הברית (NETCO) כדי לשפר את בטיחות המעברים , היא סימון קו עצירה למכוניות במרחק של כ-3 מטרים לפני מעבר החצייה. כך שכאשר מכונית נותנת זכות קדימה להולך רגל, היא צריכה לעצור בקו זה. לדבר זה חשיבות מיוחדת במעברי חציה שחוצים 2 נתיבים או יותר - שכן נהג שמתקרב למעבר חצייה שבו יש מכונית שכבר עומדת, הוא יכול לראות את הולך הרגל ולעצור גם הוא (מעבר לכך שזה לא חוקי לעקוף מכונית שעומדת במעבר חצייה). בנוסף הדבר מקל על הולך הרגל להבחין בנתיבים האחרים של החצייה. יתרון נוסף של עיצוב כזה הוא שאם מכונית אחת פוגעת במכונית אחרת שעצרה במעבר - הסיכוי לפגיעה בהולך רגל כתוצאה מכך קטן.`,\n    image: \"sidewalk4.png\",\n    alt: ''\n}\n\nexport const SAFE_CROSSING_ZIGZAG = {\n    header: \"יצירת מעבר חצייה בטוח - סימני זיגזג לפני מעבר החצייה\",\n    body: \"בבריטניה ובמדינות המושפעות ממנה כמו גיברלטר וקפריסין מקובל סימון של זיגזג מספר מטרים לפני מעבר החצייה. לדבר זה מספר יתרונות - מצד אחד הוא מסמן לנהג שעוד זמן קצר הוא מגיע למעבר חציה. בנוסף הדבר יוצר אשליה אופטית של הצרה של הכביש לפני מעבר החצייה וגורם לנהגים להאט. יש שטוענים כי נהגים מסתכלים יותר זמן על הכביש עצמו ולכן מבחינים בסימן זה לפני שהם מבחינים בהולכי רגל. אמצעי זה הוא זול ומהיר ליישום, אבל ישו לו חסרונות לעומת הצרה אמיתית מעבר החצייה - והיא שעם הזמן נהגים עלולים להתרגל לסימון.\",\n    image: 'sidewalk5.jpg',\n    alt: ''\n}\n\nexport const CITY_BIKE_SPEED = {\n    header: \"אופניים במרחב העירוני\",\n    body: `מהירות רכיבה ממוצעת על אופניים בעיר היא 25-15 קמ”ש. בירידה יכול רוכב האופניים לפתח מהירות גבוהה יותר העשויה להגיע ל-50 קמ”ש. מהירות הנסיעה תלויה בקיום תשתיות אופניים, בכמות הרמזורים בדרך, בהפרשי גבהים בדרך, במזג האוויר ובכושר של הרוכב. אופניים חשמליים הם בדרך כלל מהירים יותר יחסית לאופניים. בישראל יש מהירות מירבית של 25 קמ\"ש. בשל פקקי תנועה ועצירות ברמזורים, בערים רבות בעולם, המהירות הממוצעת של רכב פרטי היא נמוכה מ-26 קמ\"ש: בוורשה המהירות היא 26 קמ\"ש, בברלין 24 קמ\"ש ובלונדון 19 קמ\"ש.[1]`,\n    image: \"bicycle.jpg\",\n    alt: ''\n}\n\nexport const CITY_BIKE_LANE = {\n    header: \"אופניים במרחב העירוני - רחוב אופניים או שדרת אופניים\",\n    body: `זהו רחוב שבו משלבים תנועה של אופניים עם תנועה ממונעת בצורה בטוחה וללא הפרדה. ברחוב כזה יש זכות קדימה לאופניים, אבל גם כלי רכב אחרים כמו מכוניות יכולים לנסוע בו. שדרות אופניים הם רחובות שבהם יש מעט תנועה מנועית שנוסעת לאט, ואשר מותאמים לשימוש לתחבורת אופניים על ידי עיצוב עירוני שמשלב מיתון תנועה, הפחתת תנועה, תמרור וסימון כביש מתאים, וכן טיפול בדרכים חוצות. טיפולים אלה מאפשרים תנועה בטוחה ונוחה לאופניים בעודם מרתיעים נסיעות של כלי רכב ממונעים דרך רחובות אלה. נשמרת הגישה של כלי רכב ממונעים לדירות ונכסים שנמצאים לאורך הנתיב. בניגוד לשבילי אופניים, שדרת האופניים בדרך כלל אינה מפקיעה את זכויות הדרך מכלי רכב ממונעים, ואינה כרוכה באובדן מקומות חנייה לרכב הפרטי, ובכל זאת מייצרת רחוב שבו נעים ובטוח לרכוב באופניים.`,\n    image: \"bicycle3.jpg\",\n    alt: ''\n}\n\nexport const VISION_ZERO_CONTENT = [VISION_SUMMARY,\n                                SAFE_ROAD_SCALING,\n                                SAFE_CROSSING_ISLAND,\n                                SAFE_CROSSING_SIDEWALK,\n                                SAFE_CROSSING_NARROW,\n                                SAFE_CROSSING_HEIGHTEN,\n                                SAFE_CROSSING_STOPLINE,\n                                SAFE_CROSSING_ZIGZAG,\n                                CITY_BIKE_SPEED,\n                                CITY_BIKE_LANE]","import React from 'react';\nimport {VISION_ZERO_CONTENT} from '../constants/visionZero'\nimport { styled } from '@material-ui/core/styles';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\n\n\nfunction TabPanel(props) {\n  const { children, value, index} = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`vertical-tabpanel-${index}`}\n      aria-labelledby={`vertical-tab-${index}`}\n      style={{ width: '100%'}}\n    >\n      <Box p={3}>{children}</Box>\n    </Typography>\n  );\n}\n\nconst MyTabs = styled(Tabs)({\n  borderRight: `1px solid`,\n  width: '225px',\n  display: 'flex'\n});\n\n\nclass VisionZero extends React.Component {\n  constructor(){\n    super();\n    this.state = {currentTab: 0}\n  }\n\n  createTabHeaders(){\n    return VISION_ZERO_CONTENT.map((content, index) => {\n      return <Tab label={content.header} id={`vertical-tab-${index}`} aria-controls={`vertical-tabpanel-${index}`}></Tab>\n    })\n  }\n\n  createTabContent(){\n    const {currentTab} = this.state;\n    return VISION_ZERO_CONTENT.map((content, index) => {\n      return <TabPanel value={currentTab} index={index}>\n        <div>\n      {content.image ? <img src={`images/${content.image}`} height='250px' alt={content.alt} style={{float:'right', paddingLeft:'10px'}}/> : null}\n      <span>{content.body}</span>\n      </div>\n      </TabPanel>\n    })\n  }\n\n  handleChange(val, index){\n    this.setState({currentTab: index});\n  }\n\n  render() {    \n    return (\n      <div style={{display: 'flex', flex: '1 auto'}}>\n        <MyTabs\n        orientation=\"vertical\"\n        variant=\"scrollable\"\n        value={this.state.currentTab}\n        onChange={this.handleChange.bind(this)}\n        aria-label=\"Vertical tabs example\"\n        >\n          {this.createTabHeaders()}\n        </MyTabs>\n      {this.createTabContent()}\n      </div>\n    )\n  }\n}\n\nexport default VisionZero;","import _ from 'lodash';\nimport React from 'react';\nimport axios from 'axios';\n\nimport Stats from './Stats';\nimport Map from './Map';\nimport Select from './Select';\nimport VisionZero from './VisionZero';\nimport './Report.scss';\nimport Loader from \"./Loader\";\n\n\nfunction Report(props) {\n    const [selectedId, setSelectedId] = React.useState('');\n    const [selectedSchoolData, setSelectedSchoolData] = React.useState({id: ''});\n\n    let selectedSchool = _.find(props.schools, {school_id: selectedId});\n    let selectedSchoolName = _.get(selectedSchool, 'school_name', '');\n\n    if (selectedId !== selectedSchoolData.id && selectedId !== '') {\n        axios.get(`https://anyway.co.il/api/injured-around-schools?school_id=${selectedId}`)\n            .then(function (response) {\n                setSelectedSchoolData({\n                    stats: response.data,\n                    id: selectedId\n                })\n            })\n    }\n\n    return (\n        <div className=\"report\" >\n            <div className=\"info\">\n                <div className=\"right\">\n                    <div className=\"select-container\">\n                    <Select schools={props.schools}\n                            selectedSchoolValue={selectedSchoolName}\n                            setSelectedId={setSelectedId}/>\n                    </div>\n                    <div className=\"stats-container\">\n                        {selectedSchoolData.stats && <Stats school={selectedSchoolData.stats}\n                                                            title={_.get(selectedSchool, 'school_name')}/>}\n                    </div>\n                </div>\n                <div className=\"left\">\n                    { _.isNil(selectedSchool)\n                        ? <Loader />\n                        : <Map school={selectedSchool}/>\n                    }\n\n                </div>\n            </div>\n            <div className=\"vision-zero-container\">\n                <VisionZero />\n            </div>\n        </div>\n    );\n}\n\nexport default Report;\n","import React, {useEffect, useState} from 'react';\nimport _ from 'lodash';\n\nimport Loader from './Console/Loader';\nimport Report from './Console/Report';\nimport axios from \"axios\";\n\nfunction getData(url, callback) {\n    return () => {\n        axios.get(url)\n            .then(function (response) {\n                callback(response.data)\n            })\n    };\n}\n\nfunction App() {\n    const [schoolsMetaData, setSchoolsMetaData] = useState(null);\n    useEffect(getData('https://anyway.co.il/api/schools-names', setSchoolsMetaData));\n\n    return (\n        <div className=\"App\">\n            { _.isNull(schoolsMetaData)\n                ? <Loader />\n                : <Report schools={schoolsMetaData} />\n            }\n        </div>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}